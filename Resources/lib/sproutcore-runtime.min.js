// ==========================================================================
// Project:   SproutCore - JavaScript Application Framework
// Copyright: ©2006-2011 Strobe Inc. and contributors.
//            Portions ©2008-2011 Apple Inc. All rights reserved.
// License:   Licensed under MIT license (see license.js)
// ==========================================================================

(function(a){"undefined"==typeof SC&&(SC={},"undefined"!=typeof window&&(window.SC=window.SproutCore=SproutCore=SC)),SC.VERSION="2.0.beta.3",SC.ENV="undefined"==typeof ENV?{}:ENV,SC.K=function(){return this},window.sc_assert=function(b,c){"function"==typeof c&&(c=c()!==!1);if(!c)throw new Error("assertion failed: "+b)},"undefined"==typeof require&&(require=SC.K)})({}),function(a){var b=SC.platform={};b.create=Object.create;if(!b.create){var c=function(){},d=c.prototype;b.create=function(a,e){c.prototype=a,a=new c,c.prototype=d;if(e!==undefined)for(var f in e){if(!e.hasOwnProperty(f))continue;b.defineProperty(a,f,e[f])}return a},b.create.isSimulated=!0}var e=Object.defineProperty,f,g;if(e)try{e({},"a",{get:function(){}})}catch(h){e=null}e&&(f=function(){var a={};e(a,"a",{configurable:!0,enumerable:!0,get:function(){},set:function(){}}),e(a,"a",{configurable:!0,enumerable:!0,writable:!0,value:!0});return a.a===!0}(),g=function(){try{e(document.body,"definePropertyOnDOM",{});return!0}catch(a){}return!1}(),f?g||(e=function(a,b,c){var d;typeof Node=="object"?d=a instanceof Node:d=typeof a=="object"&&typeof a.nodeType=="number"&&typeof a.nodeName=="string";return d?a[b]=c.value:Object.defineProperty(a,b,c)}):e=null),b.defineProperty=e,b.hasPropertyAccessors=!0,b.defineProperty||(b.hasPropertyAccessors=!1,b.defineProperty=function(a,b,c){a[b]=c.value},b.defineProperty.isSimulated=!0)}({}),function(a){var b="__sc"+ +(new Date),c,d,e;c=0,d=[],e={};var f={configurable:!0,writable:!0,enumerable:!1},g=SC.platform.defineProperty,h=SC.platform.create;SC.GUID_KEY=b,SC.generateGuid=function(a,d){d||(d="sc");var e=d+c++;a&&(f.value=e,g(a,b,f),f.value=null);return e},SC.guidFor=function(a){if(a===undefined)return"(undefined)";if(a===null)return"(null)";var f,g,h=typeof a;switch(h){case"number":g=d[a],g||(g=d[a]="nu"+a);return g;case"string":g=e[a],g||(g=e[a]="st"+c++);return g;case"boolean":return a?"(true)":"(false)";default:if(a[b])return a[b];if(a===Object)return"(Object)";if(a===Array)return"(Array)";return SC.generateGuid(a,"sc")}};var i={writable:!0,configurable:!1,enumerable:!1,value:null},j=SC.GUID_KEY+"_meta";SC.META_KEY=j;var k={descs:{},watching:{}};Object.freeze&&Object.freeze(k),SC.meta=function(b,c){var d=b[j];if(c===!1)return d||k;d?d.source!==b&&(d=b[j]=h(d),d.descs=h(d.descs),d.values=h(d.values),d.watching=h(d.watching),d.lastSetValues={},d.cache={},d.source=b):(g(b,j,i),d=b[j]={descs:{},watching:{},values:{},lastSetValues:{},cache:{},source:b},d.descs.constructor=null);return d},SC.metaPath=function(a,b,c){var d=SC.meta(a,c),e,f;for(var g=0,i=b.length;g<i;g++){e=b[g],f=d[e];if(!f){if(!c)return undefined;f=d[e]={__sc_source__:a}}else if(f.__sc_source__!==a){if(!c)return undefined;f=d[e]=h(f),f.__sc_source__=a}d=f}return f},SC.wrap=function(a,b){function c(){}var d=function(){var d,e=this._super;this._super=b||c,d=a.apply(this,arguments),this._super=e;return d};d.base=a;return d},SC.isArray=function(a){if(!a||a.setInterval)return!1;if(Array.isArray&&Array.isArray(a))return!0;if(SC.Array&&SC.Array.detect(a))return!0;if(a.length!==undefined&&"object"==typeof a)return!0;return!1},SC.makeArray=function(a){if(a==null)return[];return SC.isArray(a)?a:[a]}}({}),function(a){function p(a,b){var e=m.test(b),f=!e&&k.test(b),g;if(!a||f)a=window;e&&(b=b.slice(5));var h=b.indexOf("*");h>0&&b.charAt(h-1)!=="."?(a&&c(a,!1).proto!==a?a=i(a,b.slice(0,h)):a=null,b=b.slice(h+1)):a===window&&(g=o(b),a=d(a,g),b=b.slice(g.length+1));if(!b||b.length===0)throw new Error("Invalid Path");j[0]=a,j[1]=b;return j}function o(a){return a.match(n)[0]}function i(a,b){var c=b.length,e,f,g;e=b.indexOf("*");if(e>0&&b[e-1]!==".")return i(i(a,b.slice(0,e)),b.slice(e+1));e=0;while(a&&e<c){f=b.indexOf(".",e),f<0&&(f=c),g=b.slice(e,f),a=g==="*"?a:d(a,g);if(a&&a.isDestroyed)return undefined;e=f+1}return a}function h(a){if(a==="*")return a;var b=a.charAt(0);if(b===".")return"this"+a;if(b==="*"&&a.charAt(1)!==".")return"this."+a.slice(1);return a}var b=SC.platform.hasPropertyAccessors&&SC.ENV.USE_ACCESSORS;SC.USE_ACCESSORS=!!b;var c=SC.meta,d,e;d=function(b,c){c===undefined&&"string"==typeof b&&(c=b,b=SC);if(!b)return undefined;var d=b[c];d===undefined&&"function"==typeof b.unknownProperty&&(d=b.unknownProperty(c));return d},e=function(b,c,d){"object"!=typeof b||c in b?b[c]=d:"function"==typeof b.setUnknownProperty?b.setUnknownProperty(c,d):"function"==typeof b.unknownProperty?b.unknownProperty(c,d):b[c]=d;return d};if(!b){var f=d,g=e;d=function(a,b){b===undefined&&"string"==typeof a&&(b=a,a=SC);if(!a)return undefined;var d=c(a,!1).descs[b];return d?d.get(a,b):f(a,b)},e=function(a,b,d){var e=c(a,!1).descs[b];e?e.set(a,b,d):g(a,b,d);return d}}SC.get=d,SC.set=e;var j=[],k=/^([A-Z$]|([0-9][A-Z$])).*[\.\*]/,l=/^([A-Z$]|([0-9][A-Z$])).*[\.\*]?/,m=/^this[\.\*]/,n=/^([^\.\*]+)/;SC.normalizePath=h,SC.normalizeTuple=function(a,b){return p(a,h(b))},SC.normalizeTuple.primitive=p,SC.getPath=function(a,b){var c,e,f;!b&&"string"==typeof a&&(b=a,a=null),e=b.indexOf("*")>-1;if(a===null&&!e&&b.indexOf(".")<0)return d(window,b);b=h(b),c=m.test(b),f=!c&&k.test(b);if(!a||c||f||e){var g=p(a,b);a=g[0],b=g[1]}return i(a,b)},SC.setPath=function(a,b,c,d){var e;arguments.length===2&&"string"==typeof a&&(c=b,b=a,a=null),b=h(b);if(b.indexOf("*")>0){var f=p(a,b);a=f[0],b=f[1]}if(b.indexOf(".")>0)e=b.slice(b.lastIndexOf(".")+1),b=b.slice(0,b.length-(e.length+1)),!m.test(b)&&l.test(b)&&b.indexOf(".")<0?a=window[b]:b!=="this"&&(a=SC.getPath(a,b));else{if(l.test(b))throw new Error("Invalid Path");e=b}if(!e||e.length===0||e==="*")throw new Error("Invalid Path");if(!a){if(d)return;throw new Error("Object in path "+b+" could not be found or was destroyed.")}return SC.set(a,e,c)},SC.trySetPath=function(a,b,c){arguments.length===2&&"string"==typeof a&&(c=b,b=a,a=null);return SC.setPath(a,b,c,!0)},SC.isGlobalPath=function(a){return!m.test(a)&&k.test(a)}}({}),function(a){Array.prototype.map||(Array.prototype.map=function(a){"use strict";if(this===void 0||this===null)throw new TypeError;var b=Object(this),c=b.length>>>0;if(typeof a!="function")throw new TypeError;var d=Array(c),e=arguments[1];for(var f=0;f<c;f++)f in b&&(d[f]=a.call(e,b[f],f,b));return d}),Array.prototype.forEach||(Array.prototype.forEach=function(a){"use strict";if(this===void 0||this===null)throw new TypeError;var b=Object(this),c=b.length>>>0;if(typeof a!="function")throw new TypeError;var d=arguments[1];for(var e=0;e<c;e++)e in b&&a.call(d,b[e],e,b)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){b==null?b=0:b<0&&(b=Math.max(0,this.length+b));for(var c=b,d=this.length;c<d;c++)if(this[c]===a)return c;return-1})}({}),function(a){function u(a,b){return b==="toString"?"function"!=typeof a.toString:!!a[b]}function t(a){var b=s[a];b||(b=s[a]=function(b){return p(this,a,b)});return b}function r(a){var b=q[a];b||(b=q[a]=function(){return o(this,a)});return b}function p(a,b,c){var d=e(a),f;f=d.watching[b]>0&&c!==d.values[b],f&&SC.propertyWillChange(a,b),d.values[b]=c,f&&SC.propertyDidChange(a,b);return c}function o(a,b,c){c=c||e(a,!1).values;if(c){var d=c[b];if(d!==undefined)return d;if(a.unknownProperty)return a.unknownProperty(b)}}var b=SC.USE_ACCESSORS,c=SC.GUID_KEY,d=SC.META_KEY,e=SC.meta,f=SC.platform.create,g=SC.platform.defineProperty,h,i,j={writable:!0,configurable:!0,enumerable:!0,value:null},k=SC.Descriptor=function(){},l=k.setup=function(a,b,c){j.value=c,g(a,b,j),j.value=null},m=SC.Descriptor.prototype;m.set=function(a,b,c){a[b]=c;return c},m.get=function(a,b){return o(a,b,a)},m.setup=l,m.teardown=function(a,b){return a[b]},m.val=function(a,b){return a[b]},b||(SC.Descriptor.MUST_USE_GETTER=function(){},SC.Descriptor.MUST_USE_SETTER=function(){!this.isDestroyed});var n={configurable:!0,enumerable:!0,set:SC.Descriptor.MUST_USE_SETTER},q={},s={};i=new SC.Descriptor,SC.platform.hasPropertyAccessors?(i.get=o,i.set=p,b?i.setup=function(a,b,c){n.get=r(b),n.set=t(b),g(a,b,n),n.get=n.set=null,c!==undefined&&(e(a).values[b]=c)}:i.setup=function(a,b,c){n.get=r(b),g(a,b,n),n.get=null,c!==undefined&&(e(a).values[b]=c)},i.teardown=function(a,b){var c=e(a).values[b];delete e(a).values[b];return c}):i.set=function(a,b,c){var d=e(a),f;f=d.watching[b]>0&&c!==a[b],f&&SC.propertyWillChange(a,b),a[b]=c,f&&SC.propertyDidChange(a,b);return c},SC.SIMPLE_PROPERTY=new SC.Descriptor,h=SC.SIMPLE_PROPERTY,h.unwatched=i.unwatched=h,h.watched=i.watched=i,SC.defineProperty=function(a,b,c,d){var f=e(a,!1),i=f.descs,j=f.watching[b]>0;d===undefined?d=u(i,b)?i[b].teardown(a,b):a[b]:u(i,b)&&i[b].teardown(a,b),c||(c=h),c instanceof SC.Descriptor?(f=e(a,!0),i=f.descs,c=(j?c.watched:c.unwatched)||c,i[b]=c,c.setup(a,b,d,j)):(i[b]&&(e(a).descs[b]=null),g(a,b,c));return this},SC.create=function(a,b){var e=f(a,b);c in e&&SC.generateGuid(e,"sc"),d in e&&SC.rewatch(e);return e},SC.createPrototype=function(a,b){var g=f(a,b);e(g,!0).proto=g,c in g&&SC.generateGuid(g,"sc"),d in g&&SC.rewatch(g);return g},SC.destroy=function(a){a[d]&&(a[d]=null)}}({}),function(a){function o(a,d){var e=d._cacheable,f=d.func;return function(g){var h=b(this,e),i=h.source===this&&h.watching[a]>0,j,k,l;k=d._suspended,d._suspended=this,i=i&&h.lastSetValues[a]!==c(g),i&&(h.lastSetValues[a]=c(g),SC.propertyWillChange(this,a)),e&&delete h.cache[a],j=f.call(this,a,g),e&&(h.cache[a]=j),i&&SC.propertyDidChange(this,a),d._suspended=k;return j}}function n(a,c){var d=c._cacheable,e=c.func;return d?function(){var c,d=b(this).cache;if(a in d)return d[a];c=d[a]=e.call(this,a);return c}:function(){return e.call(this,a)}}function l(a,b){this.func=a,this._cacheable=b&&b.cacheable,this._dependentKeys=b&&b.dependentKeys}function k(a,b,c){var d=a._dependentKeys,e=d?d.length:0;for(var f=0;f<e;f++)i(b,c,d[f])}function j(a,b,c){var d=h(a,c);d[b]=(d[b]||0)-1,SC.unwatch(a,c)}function i(a,b,c){var d=h(a,c);d[b]=(d[b]||0)+1,SC.watch(a,c)}function h(a,c){var d=b(a),e,g;e=d.deps,e?e.__scproto__!==a&&(e=d.deps=f(e),e.__scproto__=a):e=d.deps={__scproto__:a},g=e[c],g?g.__scproto__!==a&&(g=e[c]=f(g),g.__scproto__=a):g=e[c]={__scproto__:a};return g}var b=SC.meta,c=SC.guidFor,d=SC.USE_ACCESSORS,e=Array.prototype.slice,f=SC.platform.create,g=SC.platform.defineProperty;SC.ComputedProperty=l,l.prototype=new SC.Descriptor;var m={configurable:!0,enumerable:!0,get:function(){return undefined},set:SC.Descriptor.MUST_USE_SETTER},p=l.prototype;p.cacheable=function(a){this._cacheable=a!==!1;return this},p.property=function(){this._dependentKeys=e.call(arguments);return this},p.setup=function(a,b,c){m.get=n(b,this),m.set=o(b,this),g(a,b,m),m.get=m.set=null,k(this,a,b)},p.teardown=function(a,c){var d=this._dependentKeys,e=d?d.length:0;for(var f=0;f<e;f++)j(a,c,d[f]);this._cacheable&&delete b(a).cache[c];return null},p.didChange=function(a,c){this._cacheable&&this._suspended!==a&&delete b(a).cache[c]},p.get=function(a,c){var d,e;if(this._cacheable){e=b(a).cache;if(c in e)return e[c];d=e[c]=this.func.call(a,c)}else d=this.func.call(a,c);return d},p.set=function(a,d,e){var f=this._cacheable,g=b(a,f),h=g.source===a&&g.watching[d]>0,i,j,k;j=this._suspended,this._suspended=a,h=h&&g.lastSetValues[d]!==c(e),h&&(g.lastSetValues[d]=c(e),SC.propertyWillChange(a,d)),f&&delete g.cache[d],i=this.func.call(a,d,e),f&&(g.cache[d]=i),h&&SC.propertyDidChange(a,d),this._suspended=j;return i},p.val=function(a,c){return b(a,!1).values[c]},SC.platform.hasPropertyAccessors?d||(p.setup=function(a,b){g(a,b,m),k(this,a,b)}):p.setup=function(a,b,c){a[b]=undefined,k(this,a,b)},SC.computed=function(a){return new l(a)}}({}),function(a){function p(a,b){var c=h(a,b),d=[];if(!c)return d;var e;for(var f in c){if(i[f]||!c[f])continue;var g=c[f];for(var j in g){if(i[j]||!g[j])continue;e=g[j],d.push([e.target,e.method])}}return d}function o(a,b){var c=h(a,b);if(!c)return!1;for(var d in c){if(i[d]||!c[d])continue;var e=c[d];for(var g in e){if(i[g]||!e[g])continue;return!0}}var j=f(a,["listeners"],!0);j[b]=null;return!1}function n(a,b){a!==SC&&"function"==typeof a.sendEvent&&a.sendEvent.apply(a,e.call(arguments,1));var c=h(a,b);if(!c)return!1;j(c,arguments);return!0}function m(a){var b=c(a,!1).listeners,d=[];if(b)for(var e in b)!i[e]&&b[e]&&d.push(e);return d}function l(a,b,c,e){!e&&"function"==typeof c&&(e=c,c=null);var f=g(a,b,c,!0),h=d(e);f&&f[h]&&(f[h]=null),a&&"function"==typeof a.didRemoveListener&&a.didRemoveListener(b,c,e)}function k(a,b,c,e,f){!e&&"function"==typeof c&&(e=c,c=null);var h=g(a,b,c,!0),i=d(e),j;h[i]?h[i].xform=f:h[i]={target:c,method:e,xform:f},"function"==typeof a.didAddListener&&a.didAddListener(b,c,e);return j}function j(a,b){for(var c in a){if(i[c])continue;var d=a[c];for(var e in d){if(i[e])continue;var f=d[e];if(!f)continue;var g=f.method,h=f.target;h||(h=b[0]),"string"==typeof g&&(g=h[g]);var j=f.xform;j?j(h,g,b):g.apply(h,b)}}}function h(a,b){var d=c(a,!1).listeners;if(!d)return!1;return d[b]||!1}function g(a,b,c,e){var g=d(c);return f(a,["listeners",b,g],e)}var b=SC.platform.create,c=SC.meta,d=SC.guidFor,e=Array.prototype.slice,f=SC.metaPath,i={__sc_source__:!0};SC.addListener=k,SC.removeListener=l,SC.sendEvent=n,SC.hasListeners=o,SC.watchedEvents=m,SC.listenersFor=p}({}),function(a){function s(a,b,c){var d=c[0],e=p(c[1]),f;b.length>2&&(f=SC.getPath(d,e)),b.call(a,d,e,f)}function q(a){return function(b,c,d){var e=d[0],f=o(d[1]),g;c.length>2&&(g=SC.getPath(e,f)),a.unshift(e,f,g),c.apply(b,a)}}function p(a){return a.slice(0,-7)}function o(a){return a.slice(0,-7)}function n(a){return a+c}function m(a){return a+b}function l(){j.empty();!!i&&i.array.length!==0&&i.forEach(function(a,b){SC.sendEvent(a,b)})}function k(a,b,c){f&&!c?i.contains(a,b)||i.add(a,b):SC.sendEvent(a,b)}var b=":change",c=":before",d=SC.guidFor,e=SC.normalizePath,f=0,g=Array.prototype.slice,h=function(a){this.set={},a&&(this.array=[])};h.prototype.add=function(a,b){var c=this.set,d=SC.guidFor(a),e;c[d]||(c[d]={}),c[d][b]=!0,(e=this.array)&&e.push([a,b])},h.prototype.contains=function(a,b){var c=this.set,d=SC.guidFor(a),e=c[d];return e&&e[b]},h.prototype.empty=function(){this.set={},this.array=[]},h.prototype.forEach=function(a){var b=this.array;this.empty(),b.forEach(function(b){a(b[0],b[1])})};var i=new h(!0),j=new h;SC.beginPropertyChanges=function(){f++;return this},SC.endPropertyChanges=function(){f--,f<=0&&l()};var r=q([]);SC.addObserver=function(a,b,c,d){b=e(b);var f;if(arguments.length>4){var h=g.call(arguments,4);f=q(h)}else f=r;SC.addListener(a,m(b),c,d,f),SC.watch(a,b);return this},SC.observersFor=function(a,b){return SC.listenersFor(a,m(b))},SC.removeObserver=function(a,b,c,d){b=e(b),SC.unwatch(a,b),SC.removeListener(a,m(b),c,d);return this},SC.addBeforeObserver=function(a,b,c,d){b=e(b),SC.addListener(a,n(b),c,d,s),SC.watch(a,b);return this},SC.beforeObserversFor=function(a,b){return SC.listenersFor(a,n(b))},SC.removeBeforeObserver=function(a,b,c,d){b=e(b),SC.unwatch(a,b),SC.removeListener(a,n(b),c,d);return this},SC.notifyObservers=function(a,b){k(a,m(b))},SC.notifyBeforeObservers=function(a,b){var c,d,e=!1;if(f)if(!j.contains(a,b))j.add(a,b),e=!0;else return;k(a,n(b),e)}}({}),function(a){function E(a,b){C(a,b,"didChange")}function D(a,b){C(a,b,"willChange")}function C(a,b,d){var e=c(a,!1),f=e.chainWatchers;if(!!f&&f.__scproto__===a){f=f[b];if(!f)return;for(var g in f){if(!f.hasOwnProperty(g))continue;f[g][d](a,b)}}}function B(a){var b=c(a),d=b.chains;d?d._value!==a&&(d=b.chains=d.copy(a)):d=b.chains=new z(null,null,a);return d}function y(a){return c(a,!1).proto===a}function x(a){if(w.length!==0){var b=w;w=[],b.forEach(function(a){a[0].add(a[1])}),a!==!1&&w.length>0&&setTimeout(x,1)}}function v(a,d,e){if(!!a&&"object"==typeof a){var f=c(a,!1),g=f.chainWatchers;if(!g||g.__scproto__!==a)return;g[d]&&delete g[d][b(e)],SC.unwatch(a,d)}}function u(a,d,e){if(!!a&&"object"==typeof a){var f=c(a),g=f.chainWatchers;if(!g||g.__scproto__!==a)g=f.chainWatchers={__scproto__:a};g[d]||(g[d]={}),g[d][b(e)]=e,SC.watch(a,d)}}function t(a,b){var c=r,d=!c;d&&(c=r={}),p("propertyDidChange",a,b,c),d&&(r=null)}function s(a,b){var c=q,d=!c;d&&(c=q={}),p("propertyWillChange",a,b,c),d&&(q=null)}function p(a,d,e,f){var g=b(d);f[g]||(f[g]={});if(!f[g][e]){f[g][e]=!0;var h=c(d,!1).deps,i=SC[a];h=h&&h[e];if(h)for(var j in h){if(o[j])continue;i(d,j)}}}function n(a){return a==="*"||!l.test(a)}function m(a){return a.match(k)[0]}var b=SC.guidFor,c=SC.meta,d=SC.get,e=SC.set,f=SC.normalizeTuple.primitive,g=SC.normalizePath,h=SC.SIMPLE_PROPERTY,i=SC.GUID_KEY,j=SC.notifyObservers,k=/^([^\.\*]+)/,l=/[\.\*]/,o={__scproto__:!0},q,r,w=[],z=function(a,b,c,e){var f;this._parent=a,this._key=b,this._watching=c===undefined,this._value=c||a._value&&!y(a._value)&&d(a._value,b),this._separator=e||".",this._paths={},this._watching&&(this._object=a._value,this._object&&u(this._object,this._key,this))},A=z.prototype;A.destroy=function(){if(this._watching){var a=this._object;a&&v(a,this._key,this),this._watching=!1}},A.copy=function(a){var b=new z(null,null,a,this._separator),c=this._paths,d;for(d in c){if(!(c[d]>0))continue;b.add(d)}return b},A.add=function(a){var b,c,d,e,g,h;h=this._paths,h[a]=(h[a]||0)+1,b=this._value,c=f(b,a);if(c[0]&&c[0]===b)a=c[1],d=m(a),a=a.slice(d.length+1);else{if(!c[0]){w.push([this,a]);return}e=c[0],d=a.slice(0,0-(c[1].length+1)),g=a.slice(d.length,d.length+1),a=c[1]}this.chain(d,a,e,g)},A.remove=function(a){var b,c,d,e,g;g=this._paths,g[a]>0&&g[a]--,b=this._value,c=f(b,a),c[0]===b?(a=c[1],d=m(a),a=a.slice(d.length+1)):(e=c[0],d=a.slice(0,0-(c[1].length+1)),a=c[1]),this.unchain(d,a)},A.count=0,A.chain=function(a,b,c,d){var e=this._chains,f;e||(e=this._chains={}),f=e[a],f||(f=e[a]=new z(this,a,c,d)),f.count++,b&&b.length>0&&(a=m(b),b=b.slice(a.length+1),f.chain(a,b))},A.unchain=function(a,b){var c=this._chains,d=c[a];b&&b.length>1&&(a=m(b),b=b.slice(a.length+1),d.unchain(a,b)),d.count--,d.count<=0&&(delete c[d._key],d.destroy())},A.willChange=function(){var a=this._chains;if(a)for(var b in a){if(!a.hasOwnProperty(b))continue;a[b].willChange()}this._parent&&this._parent.chainWillChange(this,this._key,1)},A.chainWillChange=function(a,b,c){this._key&&(b=this._key+this._separator+b),this._parent?this._parent.chainWillChange(this,b,c+1):(c>1&&SC.propertyWillChange(this._value,b),b="this."+b,this._paths[b]>0&&SC.propertyWillChange(this._value,b))},A.chainDidChange=function(a,b,c){this._key&&(b=this._key+this._separator+b),this._parent?this._parent.chainDidChange(this,b,c+1):(c>1&&SC.propertyDidChange(this._value,b),b="this."+b,this._paths[b]>0&&SC.propertyDidChange(this._value,b))},A.didChange=function(){if(this._watching){var a=this._parent._value;a!==this._object&&(v(this._object,this._key,this),this._object=a,u(a,this._key,this)),this._value=a&&!y(a)?d(a,this._key):undefined}var b=this._chains;if(b)for(var c in b){if(!b.hasOwnProperty(c))continue;b[c].didChange()}this._parent&&this._parent.chainDidChange(this,this._key,1)};var F=SC.SIMPLE_PROPERTY.watched;SC.watch=function(a,b){if(b==="length"&&SC.typeOf(a)==="array")return this;var d=c(a),e=d.watching,f;b=g(b),e[b]?e[b]=(e[b]||0)+1:(e[b]=1,n(b)?(f=d.descs[b],f=f?f.watched:F,f&&SC.defineProperty(a,b,f)):B(a).add(b));return this},SC.isWatching=function(a,b){return!!c(a).watching[b]},SC.watch.flushPending=x,SC.unwatch=function(a,b){if(b==="length"&&SC.typeOf(a)==="array")return this;var d=c(a).watching,e,f;b=g(b),d[b]===1?(d[b]=0,n(b)?(e=c(a).descs[b],e=e?e.unwatched:h,e&&SC.defineProperty(a,b,e)):B(a).remove(b)):d[b]>1&&d[b]--;return this},SC.rewatch=function(a){var b=c(a,!1),d=b.chains,e=b.bindings,f,g;i in a&&!a.hasOwnProperty(i)&&SC.generateGuid(a,"sc"),d&&d._value!==a&&B(a);if(e&&b.proto!==a)for(f in e)g=!o[f]&&a[f],g&&g instanceof SC.Binding&&g.fromDidChange(a);return this},SC.propertyWillChange=function(a,b){var d=c(a,!1),e=d.proto,f=d.descs[b];e!==a&&(f&&f.willChange&&f.willChange(a,b),s(a,b),D(a,b),SC.notifyBeforeObservers(a,b))},SC.propertyDidChange=function(a,b){var d=c(a,!1),e=d.proto,f=d.descs[b];e!==a&&(f&&f.didChange&&f.didChange(a,b),t(a,b),E(a,b),SC.notifyObservers(a,b))}}({}),function(a){function z(a,b,c){var d=a.length;for(var e in b){if(!b.hasOwnProperty||!b.hasOwnProperty(e))continue;var g=b[e];a[d]=e;if(g&&g.toString===f)g[y]=a.join(".");else if(e==="SC"||SC.Namespace&&g instanceof SC.Namespace){if(c[SC.guidFor(g)])continue;c[SC.guidFor(g)]=!0,z(a,g,c)}}a.length=d}function x(a,b,c){if(!c[SC.guidFor(b)]){c[SC.guidFor(b)]=!0;if(b.properties){var d=b.properties;for(var e in d)d.hasOwnProperty(e)&&(a[e]=!0)}else b.mixins&&b.mixins.forEach(function(b){x(a,b,c)})}}function w(a,b,c){var d=SC.guidFor(a);if(c[d])return!1;c[d]=!0;if(a===b)return!0;var e=a.mixins,f=e?e.length:0;while(--f>=0)if(w(e[f],b,c))return!0;return!1}function u(a,b,f){var g={},h={},i=SC.meta(a),k=i.required,m,n,o,u,v,w=SC._mixinBindings;p(b,l(a),g,h,a),c.detect(a)&&(n=h.willApplyProperty||a.willApplyProperty,o=h.didApplyProperty||a.didApplyProperty);for(m in g){if(!g.hasOwnProperty(m))continue;v=g[m],u=h[m];if(v===d){if(!(m in a)){if(!f)throw new Error("Required property not defined: "+m);k=r(a),k.__sc_count__++,k[m]=!0}}else{while(v instanceof e){var x=v.methodName;g[x]?(u=h[x],v=g[x]):i.descs[x]?(v=i.descs[x],u=v.val(a,x)):(u=a[x],v=SC.SIMPLE_PROPERTY)}n&&n.call(a,m);var y=s(u),z=y&&s(a[m]),A=t(u),B=A&&t(a[m]),C,D;if(z){C=z.length;for(D=0;D<C;D++)SC.removeObserver(a,z[D],null,m)}if(B){C=B.length;for(D=0;D<C;D++)SC.removeBeforeObserver(a,B[D],null,m)}u=w(a,m,u,i),q(a,m,v,u);if(y){C=y.length;for(D=0;D<C;D++)SC.addObserver(a,y[D],null,m)}if(A){C=A.length;for(D=0;D<C;D++)SC.addBeforeObserver(a,A[D],null,m)}k&&k[m]&&(k=r(a),k.__sc_count__--,k[m]=!1),o&&o.call(a,m)}}if(!f&&k&&k.__sc_count__>0){var E=[];for(m in k){if(j[m])continue;E.push(m)}throw new Error("Required properties not defined: "+E.join(","))}return a}function t(a){return"function"==typeof a&&a.__sc_observesBefore__}function s(a){return"function"==typeof a&&a.__sc_observes__}function r(a){var b=SC.meta(a),c=b.required;if(!c||c.__scproto__!==a)c=b.required=c?k(c):{__sc_count__:0},c.__scproto__=a;return c}function p(a,c,e,f,g){function s(a){delete e[a],delete f[a]}var h=a.length,i,j,k,l,m,n,q,r;for(i=0;i<h;i++){j=a[i];if(!j)throw new Error("Null value found in SC.mixin()");if(j instanceof b){k=SC.guidFor(j);if(c[k])continue;c[k]=j,l=j.properties}else l=j;if(l){r=f.concatenatedProperties||g.concatenatedProperties,l.concatenatedProperties&&(r=r?r.concat(l.concatenatedProperties):l.concatenatedProperties);for(n in l){if(!l.hasOwnProperty(n))continue;m=l[n];if(m instanceof SC.Descriptor){if(m===d&&e[n])continue;e[n]=m,f[n]=undefined}else{if(o(m)){q=e[n]===SC.SIMPLE_PROPERTY&&f[n],q||(q=g[n]),"function"!=typeof q&&(q=null);if(q){var t=m.__sc_observes__,u=m.__sc_observesBefore__;m=SC.wrap(m,q),m.__sc_observes__=t,m.__sc_observesBefore__=u}}else if(r&&r.indexOf(n)>=0||n==="concatenatedProperties"){var v=f[n]||g[n];m=v?v.concat(m):SC.makeArray(m)}e[n]=SC.SIMPLE_PROPERTY,f[n]=m}}l.hasOwnProperty("toString")&&(g.toString=l.toString)}else j.mixins&&(p(j.mixins,c,e,f,g),j._without&&j._without.forEach(s))}}function o(a){if("function"!=typeof a||a.isMethod===!1)return!1;return n.indexOf(a)<0}function m(a,c){c&&c.length>0&&(a.mixins=h.call(c,function(a){if(a instanceof b)return a;var c=new b;c.properties=a;return c}));return a}function l(a,b){var c=SC.meta(a,b!==!1),d=c.mixins;if(b===!1)return d||i;d?d.__scproto__!==a&&(d=c.mixins=k(d),d.__scproto__=a):d=c.mixins={__scproto__:a};return d}var b,c,d,e,f,g,h=Array.prototype.map,i={},j={__scproto__:!0,__sc_count__:!0},k=SC.platform.create,n=[Boolean,Object,Number,Array,Date,String],q=SC.defineProperty;SC._mixinBindings=function(a,b,c,d){return c},SC.mixin=function(a){var b=Array.prototype.slice.call(arguments,1);return u(a,b,!1)},b=function(){return m(this,arguments)},b._apply=u,b.applyPartial=function(a){var b=Array.prototype.slice.call(arguments,1);return u(a,b,!0)},b.create=function(){f.processed=!1;var a=this;return m(new a,arguments)},b.prototype.reopen=function(){var a,c;this.properties&&(a=b.create(),a.properties=this.properties,delete this.properties,this.mixins=[a]);var d=arguments.length,e=this.mixins,f;for(f=0;f<d;f++)a=arguments[f],a instanceof b?e.push(a):(c=b.create(),c.properties=a,e.push(c));return this};var v=[];b.prototype.apply=function(a){v.length=0,v[0]=this;return u(a,v,!1)},b.prototype.applyPartial=function(a){v.length=0,v[0]=this;return u(a,v,!0)},b.prototype.detect=function(a){if(!a)return!1;if(a instanceof b)return w(a,this,{});return!!l(a,!1)[SC.guidFor(this)]},b.prototype.without=function(){var a=new b(this);a._without=Array.prototype.slice.call(arguments);return a},b.prototype.keys=function(){var a={},b={},c=[];x(a,this,b);for(var d in a)a.hasOwnProperty(d)&&c.push(d);return c};var y=SC.GUID_KEY+"_name";g=function(a){var b=a.superclass;if(b)return b[y]?b[y]:g(b);return},f=function(){!this[y]&&!f.processed&&(f.processed=!0,z([],window,{}));if(this[y])return this[y];var a=g(this);return a?"(subclass of "+a+")":"(unknown mixin)"},b.prototype.toString=f,b.mixins=function(a){var b=[],c=l(a,!1),d,e;for(d in c){if(j[d])continue;e=c[d],e.properties||b.push(c[d])}return b},d=new SC.Descriptor,d.toString=function(){return"(Required Property)"},SC.required=function(){return d},e=function(a){this.methodName=a},e.prototype=new SC.Descriptor,SC.alias=function(a){return new e(a)},SC.Mixin=b,c=b.create({willApplyProperty:SC.required(),didApplyProperty:SC.required()}),SC.MixinDelegate=c,SC.observer=function(a){var b=Array.prototype.slice.call(arguments,1);a.__sc_observes__=b;return a},SC.beforeObserver=function(a){var b=Array.prototype.slice.call(arguments,1);a.__sc_observesBefore__=b;return a}}({}),function(a){}({}),function(a){function h(a,b,c){b.call(a,c[0],c[2],c[3])}function g(a,c){function d(d){var e=b(d,a);return c===undefined?!!e:c===e}return d}function f(a){d.push(a);return null}function e(){return d.length===0?{}:d.pop()}var b=SC.get,c=SC.set,d=[];SC.Enumerable=SC.Mixin.create({isEnumerable:!0,nextObject:SC.required(Function),firstObject:SC.computed(function(){if(b(this,"length")===0)return undefined;if(SC.Array&&SC.Array.detect(this))return this.objectAt(0);var a=e(),c;c=this.nextObject(0,null,a),f(a);return c}).property("[]").cacheable(),lastObject:SC.computed(function(){var a=b(this,"length");if(a===0)return undefined;if(SC.Array&&SC.Array.detect(this))return this.objectAt(a-1);var c=e(),d=0,g,h=null;do h=g,g=this.nextObject(d++,h,c);while(g!==undefined);f(c);return h}).property("[]").cacheable(),contains:function(a){return this.find(function(b){return b===a})!==undefined},forEach:function(a,c){if(typeof a!="function")throw new TypeError;var d=b(this,"length"),g=null,h=e();c===undefined&&(c=null);for(var i=0;i<d;i++){var j=this.nextObject(i,g,h);a.call(c,j,i,this),g=j}g=null,h=f(h);return this},getEach:function(a){return this.map(function(c){return b(c,a)})},setEach:function(a,b){return this.forEach(function(d){c(d,a,b)})},map:function(a,b){var c=[];this.forEach(function(d,e,f){c[e]=a.call(b,d,e,f)});return c},mapProperty:function(a){return this.map(function(c){return b(c,a)})},filter:function(a,b){var c=[];this.forEach(function(d,e,f){a.call(b,d,e,f)&&c.push(d)});return c},filterProperty:function(a,b){return this.filter(g(a,b))},find:function(a,c){var d=b(this,"length");c===undefined&&(c=null);var g=null,h,i=!1,j,k=e();for(var l=0;l<d&&!i;l++){h=this.nextObject(l,g,k);if(i=a.call(c,h,l,this))j=h;g=h}h=g=null,k=f(k);return j},findProperty:function(a,b){return this.find(g(a,b))},every:function(a,b){return!this.find(function(c,d,e){return!a.call(b,c,d,e)})},everyProperty:function(a,b){return this.every(g(a,b))},some:function(a,b){return!!this.find(function(c,d,e){return!!a.call(b,c,d,e)})},someProperty:function(a,b){return this.some(g(a,b))},reduce:function(a,b,c){if(typeof a!="function")throw new TypeError;var d=b;this.forEach(function(b,e){d=a.call(null,d,b,e,this,c)},this);return d},invoke:function(a){var b,c=[];arguments.length>1&&(b=Array.prototype.slice.call(arguments,1)),this.forEach(function(d,e){var f=d&&d[a];"function"==typeof f&&(c[e]=b?f.apply(d,b):f.call(d))},this);return c},toArray:function(){var a=[];this.forEach(function(b,c){a[c]=b});return a},compact:function(){return this.without(null)},without:function(a){if(!this.contains(a))return this;var b=[];this.forEach(function(c){c!==a&&(b[b.length]=c)});return b},uniq:function(){var a=[],b=!1;this.forEach(function(c){a.indexOf(c)<0?a[a.length]=c:b=!0});return b?a:this},"[]":SC.computed(function(a,b){return this}).property().cacheable(),addEnumerableObserver:function(a,c){var d=c&&c.willChange||"enumerableWillChange",e=c&&c.didChange||"enumerableDidChange",f=b(this,"hasEnumerableObservers");f||SC.propertyWillChange(this,"hasEnumerableObservers"),SC.addListener(this,"@enumerable:before",a,d,h),SC.addListener(this,"@enumerable:change",a,e,h),f||SC.propertyDidChange(this,"hasEnumerableObservers");return this},removeEnumerableObserver:function(a,c){var d=c&&c.willChange||"enumerableWillChange",e=c&&c.didChange||"enumerableDidChange",f=b(this,"hasEnumerableObservers");f&&SC.propertyWillChange(this,"hasEnumerableObservers"),SC.removeListener(this,"@enumerable:before",a,d),SC.removeListener(this,"@enumerable:change",a,e),f&&SC.propertyDidChange(this,"hasEnumerableObservers");return this},hasEnumerableObservers:SC.computed(function(){return SC.hasListeners(this,"@enumerable:change")||SC.hasListeners(this,"@enumerable:before")}).property().cacheable(),enumerableContentWillChange:function(a,c){var d,e,f;"number"==typeof a?d=a:a?d=b(a,"length"):d=a=-1,"number"==typeof c?e=c:c?e=b(c,"length"):e=c=-1,f=e<0||d<0||e-d!==0,a===-1&&(a=null),c===-1&&(c=null),SC.propertyWillChange(this,"[]"),f&&SC.propertyWillChange(this,"length"),SC.sendEvent(this,"@enumerable:before",a,c);return this},enumerableContentDidChange:function(a,c){var d=this.propertyDidChange,e,f,g;"number"==typeof a?e=a:a?e=b(a,"length"):e=a=-1,"number"==typeof c?f=c:c?f=b(c,"length"):f=c=-1,g=f<0||e<0||f-e!==0,a===-1&&(a=null),c===-1&&(c=null),SC.sendEvent(this,"@enumerable:change",a,c),g&&SC.propertyDidChange(this,"length"),SC.propertyDidChange(this,"[]");return this}})}({}),function(a){function f(a,b,c){b.call(a,c[0],c[2],c[3],c[4])}function e(a){return a===null||a===undefined}var b=SC.get,c=SC.set,d=SC.meta;SC.Array=SC.Mixin.create(SC.Enumerable,{isSCArray:!0,length:SC.required(),objectAt:function(a){if(a<0||a>=b(this,"length"))return undefined;return b(this,a)},nextObject:function(a){return this.objectAt(a)},"[]":SC.computed(function(a,c){c!==undefined&&this.replace(0,b(this,"length"),c);return this}).property().cacheable(),contains:function(a){return this.indexOf(a)>=0},slice:function(a,c){var d=[],f=b(this,"length");e(a)&&(a=0);if(e(c)||c>f)c=f;while(a<c)d[d.length]=this.objectAt(a++);return d},indexOf:function(a,c){var d,e=b(this,"length");c===undefined&&(c=0),c<0&&(c+=e);for(d=c;d<e;d++)if(this.objectAt(d,!0)===a)return d;return-1},lastIndexOf:function(a,c){var d,e=b(this,"length");c===undefined&&(c=e-1),c<0&&(c+=e);for(d=c;d>=0;d--)if(this.objectAt(d)===a)return d;return-1},addArrayObserver:function(a,c){var d=c&&c.willChange||"arrayWillChange",e=c&&c.didChange||"arrayDidChange",g=b(this,"hasArrayObservers");g||SC.propertyWillChange(this,"hasArrayObservers"),SC.addListener(this,"@array:before",a,d,f),SC.addListener(this,"@array:change",a,e,f),g||SC.propertyDidChange(this,"hasArrayObservers");return this},removeArrayObserver:function(a,c){var d=c&&c.willChange||"arrayWillChange",e=c&&c.didChange||"arrayDidChange",g=b(this,"hasArrayObservers");g&&SC.propertyWillChange(this,"hasArrayObservers"),SC.removeListener(this,"@array:before",a,d,f),SC.removeListener(this,"@array:change",a,e,f),g&&SC.propertyDidChange(this,"hasArrayObservers");return this},hasArrayObservers:SC.computed(function(){return SC.hasListeners(this,"@array:change")||SC.hasListeners(this,"@array:before")}).property().cacheable(),arrayContentWillChange:function(a,c,d){a===undefined?(a=0,c=d=-1):(c||(c=0),d||(d=0)),SC.sendEvent(this,"@array:before",a,c,d);var e,f;if(a>=0&&c>=0&&b(this,"hasEnumerableObservers")){e=[],f=a+c;for(var g=a;g<f;g++)e.push(this.objectAt(g))}else e=c;this.enumerableContentWillChange(e,d),SC.isWatching(this,"@each")&&b(this,"@each");return this},arrayContentDidChange:function(a,c,d){a===undefined?(a=0,c=d=-1):(c||(c=0),d||(d=0));var e,f;if(a>=0&&d>=0&&b(this,"hasEnumerableObservers")){e=[],f=a+d;for(var g=a;g<f;g++)e.push(this.objectAt(g))}else e=d;this.enumerableContentDidChange(c,e),SC.sendEvent(this,"@array:change",a,c,d);return this},"@each":SC.computed(function(){this.__each||(this.__each=new SC.EachProxy(this));return this.__each}).property().cacheable()})}({}),function(a){SC.MutableEnumerable=SC.Mixin.create(SC.Enumerable,{addObject:SC.required(Function),addObjects:function(a){SC.beginPropertyChanges(this),a.forEach(function(a){this.addObject(a)},this),SC.endPropertyChanges
(this);return this},removeObject:SC.required(Function),removeObjects:function(a){SC.beginPropertyChanges(this),a.forEach(function(a){this.removeObject(a)},this),SC.endPropertyChanges(this);return this}})}({}),function(a){var b="Index out of range",c=[],d=SC.get,e=SC.set;SC.MutableArray=SC.Mixin.create(SC.Array,SC.MutableEnumerable,{replace:SC.required(),insertAt:function(a,c){if(a>d(this,"length"))throw new Error(b);this.replace(a,0,[c]);return this},removeAt:function(a,e){var f=0;if("number"==typeof a){if(a<0||a>=d(this,"length"))throw new Error(b);e===undefined&&(e=1),this.replace(a,e,c)}return this},pushObject:function(a){this.insertAt(d(this,"length"),a);return a},pushObjects:function(a){this.beginPropertyChanges(),a.forEach(function(a){this.pushObject(a)},this),this.endPropertyChanges();return this},popObject:function(){var a=d(this,"length");if(a===0)return null;var b=this.objectAt(a-1);this.removeAt(a-1,1);return b},shiftObject:function(){if(d(this,"length")===0)return null;var a=this.objectAt(0);this.removeAt(0);return a},unshiftObject:function(a){this.insertAt(0,a);return a},unshiftObjects:function(a){this.beginPropertyChanges(),a.forEach(function(a){this.unshiftObject(a)},this),this.endPropertyChanges();return this},removeObject:function(a){var b=d(this,"length")||0;while(--b>=0){var c=this.objectAt(b);c===a&&this.removeAt(b)}return this},addObject:function(a){this.contains(a)||this.pushObject(a);return this}})}({}),function(a){var b=SC.get,c=SC.set;SC.Observable=SC.Mixin.create({isObserverable:!0,get:function(a){return b(this,a)},set:function(a,b){c(this,a,b);return this},setProperties:function(a){SC.beginPropertyChanges(this);for(var b in a)a.hasOwnProperty(b)&&c(this,b,a[b]);SC.endPropertyChanges(this);return this},beginPropertyChanges:function(){SC.beginPropertyChanges();return this},endPropertyChanges:function(){SC.endPropertyChanges();return this},propertyWillChange:function(a){SC.propertyWillChange(this,a);return this},propertyDidChange:function(a){SC.propertyDidChange(this,a);return this},notifyPropertyChange:function(a){this.propertyWillChange(a),this.propertyDidChange(a);return this},addObserver:function(a,b,c){SC.addObserver(this,a,b,c)},removeObserver:function(a,b,c){SC.removeObserver(this,a,b,c)},hasObserverFor:function(a){return SC.hasListeners(this,a+":change")},unknownProperty:function(a){return undefined},setUnknownProperty:function(a,b){this[a]=b},getPath:function(a){return SC.getPath(this,a)},setPath:function(a,b){SC.setPath(this,a,b);return this},incrementProperty:function(a,d){d||(d=1),c(this,a,(b(this,a)||0)+d);return b(this,a)},decrementProperty:function(a,d){d||(d=1),c(this,a,(b(this,a)||0)-d);return b(this,a)},toggleProperty:function(a){c(this,a,!b(this,a));return b(this,a)},observersForKey:function(a){return SC.observersFor(this,a)}})}({}),function(a){function h(){var a=!1,d,f=!1,h=!1,i=function(){a||e(i,"proto"),d?(this.reopen.apply(this,d),d=null,b(this),this.init.apply(this,arguments)):(h?b(this):this[SC.GUID_KEY]=undefined,f===!1&&(f=this.init),f.apply(this,arguments))};i.toString=c,i._prototypeMixinDidChange=function(){a=!1},i._initMixins=function(a){d=a},SC.defineProperty(i,"proto",SC.computed(function(){a||(a=!0,i.PrototypeMixin.applyPartial(i.prototype),h=!!g(i.prototype,!1).chains);return this.prototype}));return i}var b=SC.rewatch,c=SC.Mixin.prototype.toString,d=SC.set,e=SC.get,f=SC.platform.create,g=SC.meta,i=h();i.PrototypeMixin=SC.Mixin.create({reopen:function(){SC.Mixin._apply(this,arguments,!0);return this},isInstance:!0,init:function(){},isDestroyed:!1,destroy:function(){d(this,"isDestroyed",!0),SC.run.schedule("destroy",this,this._scheduledDestroy);return this},_scheduledDestroy:function(){this[SC.META_KEY]=null},bind:function(a,b){b instanceof SC.Binding||(b=SC.Binding.from(b)),b.to(a).connect(this);return b},toString:function(){return"<"+this.constructor.toString()+":"+SC.guidFor(this)+">"}}),i.__super__=null;var j=SC.Mixin.create({ClassMixin:SC.required(),PrototypeMixin:SC.required(),isClass:!0,isMethod:!1,extend:function(){var a=h(),b;a.ClassMixin=SC.Mixin.create(this.ClassMixin),a.PrototypeMixin=SC.Mixin.create(this.PrototypeMixin),a.ClassMixin.ownerConstructor=a,a.PrototypeMixin.ownerConstructor=a;var c=a.PrototypeMixin;c.reopen.apply(c,arguments),a.superclass=this,a.__super__=this.prototype,b=a.prototype=f(this.prototype),b.constructor=a,SC.generateGuid(b,"sc"),g(b).proto=b,SC.rewatch(b),a.subclasses=SC.Set?new SC.Set:null,this.subclasses&&this.subclasses.add(a),a.ClassMixin.apply(a);return a},create:function(){var a=this;arguments.length>0&&this._initMixins(arguments);return new a},reopen:function(){var a=this.PrototypeMixin;a.reopen.apply(a,arguments),this._prototypeMixinDidChange();return this},reopenClass:function(){var a=this.ClassMixin;a.reopen.apply(a,arguments),SC.Mixin._apply(this,arguments,!1);return this},detect:function(a){if("function"!=typeof a)return!1;while(a){if(a===this)return!0;a=a.superclass}return!1}});i.ClassMixin=j,j.apply(i),SC.CoreObject=i}({}),function(a){function e(a,b,c,d){var f,g,h;if("object"!=typeof a||a===null)return a;if(b&&(g=c.indexOf(a))>=0)return d[g];if(SC.typeOf(a)==="array"){f=a.slice();if(b){g=f.length;while(--g>=0)f[g]=e(f[g],b,c,d)}}else if(SC.Copyable&&SC.Copyable.detect(a))f=a.copy(b,c,d);else{f={};for(h in a){if(!a.hasOwnProperty(h))continue;f[h]=b?e(a[h],b,c,d):a[h]}}b&&(c.push(a),d.push(f));return f}YES=!0,NO=!1,typeof console=="undefined"&&(window.console={},console.log=console.info=console.warn=console.error=function(){}),SC.EXTEND_PROTOTYPES=SC.ENV.EXTEND_PROTOTYPES!==!1;var b={},c="Boolean Number String Function Array Date RegExp Object".split(" ");c.forEach(function(a){b["[object "+a+"]"]=a.toLowerCase()});var d=Object.prototype.toString;SC.typeOf=function(a){var c;c=a==null?String(a):b[d.call(a)]||"object",c==="function"?SC.Object&&SC.Object.detect(a)&&(c="class"):c==="object"&&(a instanceof Error?c="error":SC.Object&&a instanceof SC.Object?c="instance":c="object");return c},SC.none=function(a){return a===null||a===undefined},SC.empty=function(a){return a===null||a===undefined||a===""},SC.compare=function(a,b){if(a===b)return 0;var c=SC.typeOf(a),d=SC.typeOf(b),e=SC.Comparable;if(e){if(c==="instance"&&e.detect(a.constructor))return a.constructor.compare(a,b);if(d==="instance"&&e.detect(b.constructor))return 1-b.constructor.compare(b,a)}var f=SC.ORDER_DEFINITION_MAPPING;if(!f){var g=SC.ORDER_DEFINITION;f=SC.ORDER_DEFINITION_MAPPING={};var h,i;for(h=0,i=g.length;h<i;++h)f[g[h]]=h;delete SC.ORDER_DEFINITION}var j=f[c],k=f[d];if(j<k)return-1;if(j>k)return 1;switch(c){case"boolean":case"number":if(a<b)return-1;if(a>b)return 1;return 0;case"string":var l=a.localeCompare(b);if(l<0)return-1;if(l>0)return 1;return 0;case"array":var m=a.length,n=b.length,o=Math.min(m,n),p=0,q=0,r=arguments.callee;while(p===0&&q<o)p=r(a[q],b[q]),q++;if(p!==0)return p;if(m<n)return-1;if(m>n)return 1;return 0;case"instance":if(SC.Comparable&&SC.Comparable.detect(a))return a.compare(a,b);return 0;default:return 0}},SC.copy=function(a,b){if("object"!=typeof a||a===null)return a;if(SC.Copyable&&SC.Copyable.detect(a))return a.copy(b);return e(a,b,b?[]:null,b?[]:null)},SC.inspect=function(a){var b,c=[];for(var d in a)if(a.hasOwnProperty(d)){b=a[d];if(b==="toString")continue;SC.typeOf(b)===SC.T_FUNCTION&&(b="function() { ... }"),c.push(d+": "+b)}return"{"+c.join(" , ")+"}"},SC.isEqual=function(a,b){if(a&&"function"==typeof a.isEqual)return a.isEqual(b);return a===b},SC.ORDER_DEFINITION=SC.ENV.ORDER_DEFINITION||["undefined","null","boolean","number","string","array","object","instance","function","class"],SC.keys=Object.keys,SC.keys||(SC.keys=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}),SC.Error=function(){var a=Error.prototype.constructor.apply(this,arguments);for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])},SC.Error.prototype=SC.create(Error.prototype),SC.Logger=window.console}({}),function(a){var b=/[ _]/g,c={},d=/([a-z])([A-Z])/g;SC.STRINGS={},SC.String={fmt:function(a,b){var c=0;return a.replace(/%@([0-9]+)?/g,function(a,d){d=d?parseInt(d,0)-1:c++,a=b[d];return(a===null?"(null)":a===undefined?"":a).toString()})},loc:function(a,b){a=SC.STRINGS[a]||a;return SC.String.fmt(a,b)},w:function(a){return a.split(/\s+/)},decamelize:function(a){return a.replace(d,"$1_$2").toLowerCase()},dasherize:function(a){var d=c,e=d[a];if(e)return e;e=SC.String.decamelize(a).replace(b,"-"),d[a]=e;return e}}}({}),function(a){var b=SC.get,c=SC.set;SC.Copyable=SC.Mixin.create({copy:SC.required(Function),frozenCopy:function(){if(SC.Freezable&&SC.Freezable.detect(this))return b(this,"isFrozen")?this:this.copy().freeze();throw new Error(SC.String.fmt("%@ does not support freezing",this))}})}({}),function(a){var b=SC.get,c=SC.set;SC.Freezable=SC.Mixin.create({isFrozen:!1,freeze:function(){if(b(this,"isFrozen"))return this;c(this,"isFrozen",!0);return this}}),SC.FROZEN_ERROR="Frozen object cannot be modified."}({}),function(a){var b=SC.get,c=SC.set,d=SC.guidFor,e=SC.none;SC.Set=SC.CoreObject.extend(SC.MutableEnumerable,SC.Copyable,SC.Freezable,{length:0,clear:function(){if(this.isFrozen)throw new Error(SC.FROZEN_ERROR);var a=b(this,"length");this.enumerableContentWillChange(a,0),c(this,"length",0),this.enumerableContentDidChange(a,0);return this},isEqual:function(a){if(!SC.Enumerable.detect(a))return!1;var c=b(this,"length");if(b(a,"length")!==c)return!1;while(--c>=0)if(!a.contains(this[c]))return!1;return!0},add:SC.alias("addObject"),remove:SC.alias("removeObject"),pop:function(){if(b(this,"isFrozen"))throw new Error(SC.FROZEN_ERROR);var a=this.length>0?this[this.length-1]:null;this.remove(a);return a},push:SC.alias("addObject"),shift:SC.alias("pop"),unshift:SC.alias("push"),addEach:SC.alias("addObjects"),removeEach:SC.alias("removeObjects"),init:function(a){this._super(),a&&this.addObjects(a)},nextObject:function(a){return this[a]},firstObject:SC.computed(function(){return this.length>0?this[0]:undefined}).property("[]").cacheable(),lastObject:SC.computed(function(){return this.length>0?this[this.length-1]:undefined}).property("[]").cacheable(),addObject:function(a){if(b(this,"isFrozen"))throw new Error(SC.FROZEN_ERROR);if(e(a))return this;var f=d(a),g=this[f],h=b(this,"length"),i;if(g>=0&&g<h&&this[g]===a)return this;i=[a],this.enumerableContentWillChange(null,i),h=b(this,"length"),this[f]=h,this[h]=a,c(this,"length",h+1),this.enumerableContentDidChange(null,i);return this},removeObject:function(a){if(b(this,"isFrozen"))throw new Error(SC.FROZEN_ERROR);if(e(a))return this;var f=d(a),g=this[f],h=b(this,"length"),i,j;g>=0&&g<h&&this[g]===a&&(j=[a],this.enumerableContentWillChange(j,null),g<h-1&&(i=this[h-1],this[g]=i,this[d(i)]=g),delete this[f],delete this[h-1],c(this,"length",h-1),this.enumerableContentDidChange(j,null));return this},contains:function(a){return this[d(a)]>=0},copy:function(){var a=this.constructor,e=new a,f=b(this,"length");c(e,"length",f);while(--f>=0)e[f]=this[f],e[d(this[f])]=f;return e},toString:function(){var a=this.length,b,c=[];for(b=0;b<a;b++)c[b]=this[b];return"SC.Set<%@>".fmt(c.join(","))},isSet:!0});var f=SC.Set.create;SC.Set.create=function(a){if(a&&SC.Enumerable.detect(a)){SC.Logger.warn("Passing an enumerable to SC.Set.create() is deprecated and will be removed in a future version of SproutCore.  Use new SC.Set(items) instead");return new SC.Set(a)}return f.apply(this,arguments)}}({}),function(a){SC.CoreObject.subclasses=new SC.Set,SC.Object=SC.CoreObject.extend(SC.Observable)}({}),function(a){var b=SC.get,c=SC.set;SC.ArrayProxy=SC.Object.extend(SC.MutableArray,{content:null,selection:null,objectAtContent:function(a){return b(this,"content").objectAt(a)},replaceContent:function(a,c,d){b(this,"content").replace(a,c,d)},contentWillChange:SC.beforeObserver(function(){var a=b(this,"content"),c=a?b(a,"length"):0;this.arrayWillChange(a,0,c,undefined),a&&a.removeArrayObserver(this)},"content"),contentDidChange:SC.observer(function(){var a=b(this,"content"),c=a?b(a,"length"):0;a&&a.addArrayObserver(this),this.arrayDidChange(a,0,undefined,c)},"content"),objectAt:function(a){return b(this,"content")&&this.objectAtContent(a)},length:SC.computed(function(){var a=b(this,"content");return a?b(a,"length"):0}).property("content.length").cacheable(),replace:function(a,c,d){b(this,"content")&&this.replaceContent(a,c,d);return this},arrayWillChange:function(a,b,c,d){this.arrayContentWillChange(b,c,d)},arrayDidChange:function(a,b,c,d){this.arrayContentDidChange(b,c,d)},init:function(a){this._super(),a&&c(this,"content",a),this.contentDidChange()}})}({}),function(a){SC.ArrayController=SC.ArrayProxy.extend()}({}),function(a){}({}),function(a){var b=SC.String.fmt,c=SC.String.w,d=SC.String.loc,e=SC.String.decamelize,f=SC.String.dasherize;SC.EXTEND_PROTOTYPES&&(String.prototype.fmt=function(){return b(this,arguments)},String.prototype.w=function(){return c(this)},String.prototype.loc=function(){return d(this,arguments)},String.prototype.decamelize=function(){return e(this)},String.prototype.dashersize=function(){return f(this)})}({}),function(a){SC.EXTEND_PROTOTYPES&&(Function.prototype.property=function(){var a=SC.computed(this);return a.property.apply(a,arguments)},Function.prototype.observes=function(){this.__sc_observes__=Array.prototype.slice.call(arguments);return this},Function.prototype.observesBefore=function(){this.__sc_observesBefore__=Array.prototype.slice.call(arguments);return this})}({}),function(a){var b=SC.IS_BINDING=/^.+Binding$/;SC._mixinBindings=function(a,c,d,e){if(b.test(c)){d instanceof SC.Binding?d.to(c.slice(0,-7)):d=new SC.Binding(c.slice(0,-7),d),d.connect(a);var f=e.bindings;f?f.__scproto__!==a&&(f=e.bindings=SC.create(e.bindings),f.__scproto__=a):f=e.bindings={__scproto__:a},f[c]=!0}return d}}({}),function(a){}({}),function(a){}({}),function(a){SC.Comparable=SC.Mixin.create({isComparable:!0,compare:SC.required(Function)})}({}),function(a){}({}),function(a){SC.Namespace=SC.Object.extend()}({}),function(a){SC.Application=SC.Namespace.extend()}({}),function(a){function n(){m=null;for(var a in i){if(!i.hasOwnProperty(a))continue;var b=i[a];b.next&&(delete i[a],c(b.target,b.method,b.args,2))}}function l(a,b){b[this.tguid]&&delete b[this.tguid][this.mguid],i[a]&&c(this.target,this.method,this.args,2),delete i[a]}function k(){var a=+(new Date),b=-1;for(var d in i){if(!i.hasOwnProperty(d))continue;var e=i[d];if(e&&e.expires)if(a>=e.expires)delete i[d],c(e.target,e.method,e.args,2);else if(b<0||e.expires<b)b=e.expires}b>0&&setTimeout(k,b- +(new Date))}function h(){g=null,f.currentRunLoop&&f.end()}function c(a,c,d,e){c===undefined&&(c=a,a=undefined),"string"==typeof c&&(c=a[c]),d&&e>0&&(d=d.length>e?b.call(d,e):null);return c.apply(a||this,d||[])}var b=Array.prototype.slice,d,e=SC.Object.extend({_prev:null,init:function(a){this._prev=a,this.onceTimers={}},end:function(){this.flush();return this._prev},schedule:function(a,c,d){var e=this._queues,f;e||(e=this._queues={}),f=e[a],f||(f=e[a]=[]);var g=arguments.length>3?b.call(arguments,3):null;f.push({target:c,method:d,args:g});return this},flush:function(a){function j(a){c(a.target,a.method,a.args)}var b=this._queues,e,f,g,h,i;if(!b)return this;SC.watch.flushPending();if(a)while(this._queues&&(h=this._queues[a]))this._queues[a]=null,i=SC.LOG_BINDINGS&&a==="sync",i&&SC.Logger.log("Begin: Flush Sync Queue"),a==="sync"&&SC.beginPropertyChanges(),h.forEach(j),a==="sync"&&SC.endPropertyChanges(),i&&SC.Logger.log("End: Flush Sync Queue");else{e=SC.run.queues,g=e.length;do{this._queues=null;for(f=0;f<g;f++)a=e[f],h=b[a],i=SC.LOG_BINDINGS&&a==="sync",i&&SC.Logger.log("Begin: Flush Sync Queue"),a==="sync"&&SC.beginPropertyChanges(),h&&h.forEach(j),a==="sync"&&SC.endPropertyChanges(),i&&SC.Logger.log("End: Flush Sync Queue")}while(b=this._queues)}d=null;return this}});SC.RunLoop=e;var f;SC.run=f=function(a,b){var d,e;f.begin();if(a||b)d=c(a,b,arguments,2);f.end();return d},SC.run.begin=function(){f.currentRunLoop=new e(f.currentRunLoop)},SC.run.end=function(){f.currentRunLoop=f.currentRunLoop.end()},SC.run.queues=["sync","actions","destroy","timers"],SC.run.schedule=function(a,b,c){var d=f.autorun();d.schedule.apply(d,arguments)};var g;SC.run.autorun=function(){f.currentRunLoop||(f.begin(),SC.testing?f.end():g||(g=setTimeout(h,1)));return f.currentRunLoop},SC.run.sync=function(){f.autorun(),f.currentRunLoop.flush("sync")};var i={},j=!1;SC.run.later=function(a,c){var d,e,g,h,j;arguments.length===2&&"function"==typeof a?(j=c,c=a,a=undefined,d=[a,c]):(d=b.call(arguments),j=d.pop()),e=+(new Date)+j,g={target:a,method:c,expires:e,args:d},h=SC.guidFor(g),i[h]=g,f.once(i,k);return h},SC.run.once=function(a,c){var d=SC.guidFor(a),e=SC.guidFor(c),g,h,j=f.autorun().onceTimers;g=j[d]&&j[d][e],g&&i[g]?i[g].args=b.call(arguments):(h={target:a,method:c,args:b.call(arguments),tguid:d,mguid:e},g=SC.guidFor(h),i[g]=h,j[d]||(j[d]={}),j[d][e]=g,f.schedule("actions",h,l,g,j));return g};var m=!1;SC.run.next=function(a,c){var d,e;d={target:a,method:c,args:b.call(arguments),next:!0},e=SC.guidFor(d),i[e]=d,m||(m=setTimeout(n,1));return e},SC.run.cancel=function(a){delete i[a]},SC.RunLoop.begin=SC.run.begin,SC.RunLoop.end=SC.run.end}({}),function(a){function m(a,b){var c=g(a,b._to);return j(b,c,a,"from")}function l(a,b){var c=b._operation,d=c?c(a,b._from,b._operand):g(a,b._from);return j(b,d,a,"to")}function k(a){return a===undefined||a===null||a===""||SC.isArray(a)&&f(a,"length")===0}function j(a,b,c,d){var e=a._typeTransform;e&&(b=e(b,a._placeholder));var f=a._transforms,g=f?f.length:0,h;for(h=0;h<g;h++){var i=f[h][d];i&&(b=i.call(this,b,c))}return b}function c(a,b){if(a instanceof Array)return a.length>1?b:a[0];return a}function b(a){if(a instanceof Array)return a;if(a===undefined||a===null)return[];return[a]}SC.LOG_BINDINGS=!!SC.ENV.LOG_BINDINGS,SC.BENCHMARK_BINDING_NOTIFICATIONS=!!SC.ENV.BENCHMARK_BINDING_NOTIFICATIONS,SC.BENCHMARK_BINDING_SETUP=!!SC.ENV.BENCHMARK_BINDING_SETUP,SC.MULTIPLE_PLACEHOLDER="@@MULT@@",SC.EMPTY_PLACEHOLDER="@@EMPTY@@";var d={to:function(a){return!!a}},e={to:function(b){return!b}},f=SC.get,g=SC.getPath,h=SC.setPath,i=SC.guidFor,n=function(a,b,c){return g(a,b)&&g(a,c)},o=function(a,b,c){return g(a,b)||g(a,c)},p=SC.Object.extend({_direction:"fwd",init:function(a,b){this._from=b,this._to=a},from:function(a,b){b||(b=a,a=null),this._from=b,this._object=a;return this},to:function(a){this._to=a;return this},oneWay:function(a){this._oneWay=a===undefined?!0:!!a;return this},transform:function(a){"function"==typeof a&&(a={to:a}),this._transforms||(this._transforms=[]),this._transforms.push(a);return this},resetTransforms:function(){this._transforms=null;return this},single:function(a){a===undefined&&(a=SC.MULTIPLE_PLACEHOLDER),this._typeTransform=c,this._placeholder=a;return this},multiple:function(){this._typeTransform=b,this._placeholder=null;return this},bool:function(){this.transform(d);return this},notEmpty:function(a){a==undefined&&(a=SC.EMPTY_PLACEHOLDER),this.transform({to:function(b){return k(b)?a:b}});return this},notNull:function(a){a==undefined&&(a=SC.EMPTY_PLACEHOLDER),this.transform({to:function(b){return b==null?a:b}});return this},not:function(){this.transform(e);return this},isNull:function(){this.transform(function(a){return a==null});return this},toString:function(){var a=this._oneWay?"[oneWay]":"";return SC.String.fmt("SC.Binding<%@>(%@ -> %@)%@",[i(this),this._from,this._to,a])},connect:function(a){var b=this._oneWay,c=this._operand;SC.addObserver(a,this._from,this,this.fromDidChange),c&&SC.addObserver(a,c,this,this.fromDidChange),b||SC.addObserver(a,this._to,this,this.toDidChange),SC.meta(a,!1).proto!==a&&this._scheduleSync(a,"fwd"),this._readyToSync=!0;return this},disconnect:function(a){var b=this._oneWay,c=this._operand;SC.removeObserver(a,this._from,this,this.fromDidChange),c&&SC.removeObserver(a,c,this,this.fromDidChange),b||SC.removeObserver(a,this._to,this,this.toDidChange),this._readyToSync=!1;return this},fromDidChange:function(a){this._scheduleSync(a,"fwd")},toDidChange:function(a){this._scheduleSync(a,"back")},_scheduleSync:function(a,b){var c=i(a),d=this[c];d||(SC.run.schedule("sync",this,this._sync,a),this[c]=b),d==="back"&&b==="fwd"&&(this[c]="fwd")},_sync:function(a){var b=SC.LOG_BINDINGS;if(!a.isDestroyed&&!!this._readyToSync){var c=i(a),d=this[c],e,f,g=this._from,h=this._to;delete this[c];var j=l(a,this),k=m(a,this);if(k===j)return;d==="fwd"?(b&&SC.Logger.log(" ",this.toString(),e,"->",j,a),SC.trySetPath(a,h,j)):d==="back"&&(b&&SC.Logger.log(" ",this.toString(),e,"<-",j,a),SC.trySetPath(a,g,k))}}});p.reopenClass({from:function(){var a=this,b=new a;return b.from.apply(b,arguments)},to:function(){var a=this,b=new a;return b.to.apply(b,arguments)},oneWay:function(a,b){var c=this,d=new c(null,a);return d.oneWay(b)},single:function(a){var b=this,c=new b(null,a);return c.single()},multiple:function(a){var b=this,c=new b(null,a);return c.multiple()},transform:function(a){var b=this,c=new b;return c.transform(a)},notEmpty:function(a,b){var c=this,d=new c(null,a);return d.notEmpty(b)},bool:function(a){var b=this,c=new b(null,a);return c.bool()},not:function(a){var b=this,c=new b(null,a);return c.not()},and:function(a,b){var c=this,d=(new c(null,a)).oneWay();d._operand=b,d._operation=n;return d},or:function(a,b){var c=this,d=(new c(null,a)).oneWay();d._operand=b,d._operation=o;return d}}),SC.Binding=p,SC.bind=function(a,b,c){return(new SC.Binding(b,c)).connect(a)},SC.oneWay=function(a,b,c){return(new SC.Binding(b,c)).oneWay().connect(a)}}({}),function(a){function h(a,b,c,e,f){var g=c._objects;g||(g=c._objects={});var h,i;while(--f>=e){var j=a.objectAt(f);j&&(SC.removeBeforeObserver(j,b,c,"contentKeyWillChange"),SC.removeObserver(j,b,c,"contentKeyDidChange"),i=d(j),h=g[i],h[h.indexOf(f)]=null)}}function g(a,b,c,e,f){var g=c._objects,h;g||(g=c._objects={});while(--f>=e){var i=a.objectAt(f);i&&(SC.addBeforeObserver(i,b,c,"contentKeyWillChange"),SC.addObserver(i,b,c,"contentKeyDidChange"),h=d(i),g[h]||(g[h]=[]),g[h].push(f))}}var b=SC.set,c=SC.get,d=SC.guidFor,e=SC.Object.extend(SC.Array,{init:function(a,b,c){this._super(),this._keyName=b,this._owner=c,this._content=a},objectAt:function(a){var b=this._content.objectAt(a);return b&&c(b,this._keyName)},length:function(){var a=this._content;return a?c(a,"length"):0}.property("[]").cacheable()}),f=/^.+:(before|change)$/;SC.EachProxy=SC.Object.extend({init:function(a){this._super(),this._content=a,a.addArrayObserver(this),SC.watchedEvents(this).forEach(function(a){this.didAddListener(a)},this)},unknownProperty:function(a,b){var c;c=new e(this._content,a,this),(new SC.Descriptor).setup(this,a,c),this.beginObservingContentKey(a);return c},arrayWillChange:function(a,b,d,e){var f=this._keys,g,i,j;j=d>0?b+d:-1,SC.beginPropertyChanges(this);for(g in f){if(!f.hasOwnProperty(g))continue;j>0&&h(a,g,this,b,j),i=c(this,g),SC.propertyWillChange(this,g),i&&i.arrayContentWillChange(b,d,e)}SC.propertyWillChange(this._content,"@each"),SC.endPropertyChanges(this)},arrayDidChange:function(a,b,d,e){var f=this._keys,h,i,j;j=e>0?b+e:-1,SC.beginPropertyChanges(this);for(h in f){if(!f.hasOwnProperty(h))continue;j>0&&g(a,h,this,b,j),i=c(this,h),i&&i.arrayContentDidChange(b,d,e),SC.propertyDidChange(this,h)}SC.propertyDidChange(this._content,"@each"),SC.endPropertyChanges(this)},didAddListener:function(a){f.test(a)&&this.beginObservingContentKey(a.slice(0,-7))},didRemoveListener:function(a){f.test(a)&&this.stopObservingContentKey(a.slice(0,-7))},beginObservingContentKey:function(a){var b=this._keys;b||(b=this._keys={});if(!b[a]){b[a]=1;var d=this._content,e=c(d,"length");g(d,a,this,0,e)}else b[a]++},stopObservingContentKey:function(a){var b=this._keys;if(b&&b[a]>0&&--b[a]<=0){var d=this._content,e=c(d,"length");h(d,a,this,0,e)}},contentKeyWillChange:function(a,b){var e=this._objects[d(a)],f=c(this,b),g=f&&e?e.length:0,h;for(h=0;h<g;h++)f.arrayContentWillChange(e[h],1,1)},contentKeyDidChange:function(a,b){var e=this._objects[d(a)],f=c(this,b),g=f&&e?e.length:0,h;for(h=0;h<g;h++)f.arrayContentDidChange(e[h],1,1);SC.propertyDidChange(this,b)}})}({}),function(a){var b=SC.get,c=SC.set,d=SC.Mixin.create(SC.MutableArray,SC.Observable,SC.Copyable,{get:function(a){return a==="length"?this.length:"number"==typeof a?this[a]:this._super(a)},objectAt:function(a){return this[a]},replace:function(a,c,d){if(this.isFrozen)throw SC.FROZEN_ERROR;var e=d?b(d,"length"):0;this.arrayContentWillChange(a,c,e);if(!d||d.length===0)this.splice(a,c);else{var f=[a,c].concat(d);this.splice.apply(this,f)}this.arrayContentDidChange(a,c,e);return this},unknownProperty:function(a,b){var c;b!==undefined&&c===undefined&&(c=this[a]=b);return c},indexOf:function(a,b){var c,d=this.length;b===undefined?b=0:b=b<0?Math.ceil(b):Math.floor(b),b<0&&(b+=d);for(c=b;c<d;c++)if(this[c]===a)return c;return-1},lastIndexOf:function(a,b){var c,d=this.length;b===undefined?b=d-1:b=b<0?Math.ceil(b):Math.floor(b),b<0&&(b+=d);for(c=b;c>=0;c--)if(this[c]===a)return c;return-1},copy:function(){return this.slice()}}),e=["length"];d.keys().forEach(function(a){Array.prototype[a]&&e.push(a)}),e.length>0&&(d=d.without.apply(d,e)),SC.NativeArray=d,SC.NativeArray.activate=function(){d.apply(Array.prototype)},SC.EXTEND_PROTOTYPES&&SC.NativeArray.activate()}({}),function(a){}({}),function(a){}({})
